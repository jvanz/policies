/// ImageMetadata contains the metadata details of an image.
#[derive(Clone, Debug, PartialEq, serde::Deserialize, serde::Serialize, schemars::JsonSchema)]
#[serde(rename_all = "camelCase")]
pub(crate) struct ImageMetadata {
    /// Name of the Registry object in the same namespace where the image is stored.
    pub registry: String,

    /// URI of the registry where the image is stored. Example: "registry-1.docker.io:5000".`
    #[serde(rename = "registryURI")]
    pub registry_uri: String,

    /// The repository path of the image. Example: "rancher/sbombastic".
    pub repository: String,

    /// The tag of the image. Example: "latest".
    pub tag: String,

    /// The platform of the image. Example "linux/amd64".
    pub platform: String,

    /// The sha256 digest of the image.
    pub digest: String,
}

impl k8s_openapi::DeepMerge for ImageMetadata {
    fn merge_from(&mut self, other: Self)
    where
        Self: Sized,
    {
        self.registry.merge_from(other.registry);
        self.registry_uri.merge_from(other.registry_uri);
        self.repository.merge_from(other.repository);
        self.tag.merge_from(other.tag);
        self.platform.merge_from(other.platform);
        self.digest.merge_from(other.digest);
    }
}
